ファイル名,説明,主要内容,対象読者,推奨閲覧順序
log-design-01-overview.csv,ログシステムの概要,・ログの目的・種類・有効/無効制御,全員,1
log-design-02-api-logs.csv,API ログの詳細仕様,・各エンドポイントのログ内容・ログタイミング・ログ例,バックエンド開発者,2
log-design-03-database-logs.csv,データベースログの詳細仕様,・SQL 操作種類別ログ・パフォーマンス監視・トランザクション管理,バックエンド開発者,3
log-design-04-client-logs.csv,クライアント側ログの詳細仕様,・コンポーネント別ログ・イベント種類・ログ例,フロントエンド開発者,4
log-design-05-log-levels.csv,ログレベルの定義と使い分け,・ログレベルの説明・出力環境・チェックリスト,全員,5
log-design-06-log-format.csv,ログフォーマットの定義,・各ログ種類のフォーマット定義・具体例,開発者全員,6
log-design-07-log-params.csv,ログパラメータの詳細,・各エンドポイント/コンポーネントのパラメータ仕様,開発者全員,7
log-design-08-monitoring-guide.csv,ログ監視・分析ガイド,・監視項目・警告閾値・アラート設定・月次レビュー,運用チーム,8
log-design-README.csv,このファイル,ファイル一覧・クイックスタートガイド,全員,最初

クイックスタートガイド,対象者,おすすめ読順,所要時間
新しく開発に参加する,全員,01 → 05 → 06,30分
バックエンド開発者,開発者,01 → 02 → 03 → 07,1時間
フロントエンド開発者,開発者,01 → 04 → 07,45分
運用・監視チーム,運用,01 → 08,30分
API 仕様確認,開発者,02,15分
ログトラブルシューティング,運用,08 → 適切なログデザイン,20分

使用技術・ツール,カテゴリ,ツール/ライブラリ,用途
サーバーサイドログ,ロギングライブラリ,日本語コメント付きカスタム logger,REST API・DB ログ
,ロギングライブラリ,QueryTimer 関数,SQL パフォーマンス計測
,ロギングライブラリ,logDatabaseQuery 関数,DB ログ出力
クライアント側ログ,ロギングライブラリ,clientLogger ユーティリティ,React コンポーネント内ログ
,環境変数,NEXT_PUBLIC_ENABLE_CLIENT_LOGGING,クライアント側ログの有効/無効
監視・分析,推奨ツール,Loki / Datadog / ELK Stack,ログ集約・可視化
,推奨ツール,Sentry,エラートラッキング

ログ実装チェックリスト,項目,チェック項目,実装済み,未実装
新規 API Route 作成,APIログ,"logAPIEndpoint() で開始・終了をログ出力",,
,DBログ,"logDatabaseQuery() で全 SQL 操作をログ出力",,
,エラーハンドリング,"エラー発生時に ERROR レベルでログ出力",,
新規クライアント コンポーネント,クライアントログ,"重要なイベント（初期化・API 呼び出し・ユーザー操作）で clientLogger を使用",,
,エラーハンドリング,"エラー発生時に ERROR または WARN レベルでログ出力",,
,パラメータ記録,"処理に影響する重要なパラメータを記録",,

監視設定チェックリスト,確認項目,チェック状況
アラート設定,API エラー多発のアラートが設定されているか
,データベースパフォーマンス低下のアラートが設定されているか
,セッション管理異常のアラートが設定されているか
ログ保持,各ログレベル別の保持期間が決定しているか
,アーカイブ方針が決定しているか
,コンプライアンス要件に対応しているか
監視ダッシュボード,API 実行時間のダッシュボードが存在するか
,DB クエリ実行時間のダッシュボードが存在するか
,エラー発生頻度のダッシュボードが存在するか
,ユーザー行動分析のダッシュボードが存在するか

トラブルシューティング,症状,原因候補,確認方法,参照ファイル
API が遅い,データベースクエリ性能低下,log-design-03 のデータベースログで実行時間を確認,log-design-08
,大量アクセス,log-design-02 の API ログで アクセス頻度を確認,log-design-08
ログが出力されない,ログレベルが高すぎる,開発環境で DEBUG レベルが有効になっているか確認,log-design-05
,ログ出力関数が呼び出されていない,コード上で logAPIEndpoint() clientLogger.info() が存在するか確認,log-design-02 04
クライアント側ログが見えない,環境変数が無効,NEXT_PUBLIC_ENABLE_CLIENT_LOGGING = 'true' になっているか確認,log-design-04
,ブラウザコンソール確認,ブラウザの開発者ツール > コンソール で確認,log-design-04
エラーが頻発する,エラー内容を確認,ログの詳細パラメータを確認,log-design-07
,根本原因を追跡,複数のログファイルを組み合わせて分析,全ファイル

バージョン管理,バージョン,変更日,変更内容,変更者
1.0,2024-12-02,初期版作成（8ファイル），Claude
