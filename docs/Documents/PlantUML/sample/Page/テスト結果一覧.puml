@startuml テスト結果一覧画面
autonumber
actor "ログインユーザー" as User
participant "画面\n(/test-groups/[groupId]/cases/[tid]/results)" as Screen
participant "API\n(/api/test-groups/[groupId]/cases/[tid]/results)" as API

User -> Screen: 画面アクセス
activate Screen
Screen -> API: GET /api/test-groups/[groupId]/cases/[tid]
activate API
API -> API: JWTトークン検証
API -> API: SELECT * FROM tt_test_cases\nWHERE test_group_id = $1 AND tid = $2
API -> Screen: 200 OK\n{ testCase }
deactivate API

Screen -> API: GET /api/test-groups/[groupId]/cases/[tid]/results
activate API
API -> API: JWTトークン検証
API -> API: 閲覧権限確認
API -> API: SELECT tc.*, tr.judgment, tr.execution_date\nFROM tt_test_contents tc\nLEFT JOIN tt_test_results tr\nON tc.test_content_id = tr.test_content_id\nWHERE tc.test_case_id = $1
API -> Screen: 200 OK\n{ results: [...] }
deactivate API
Screen -> User: テスト結果一覧表示
deactivate Screen
@enduml